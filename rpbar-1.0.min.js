function initProgressBar(){document.getElementById("rp-bar").innerHTML='<div id="rp-read"></div><div id="rp-unread"></div>',barHeight=5,animArea=30,barInc=animArea/barHeight,doc=document.documentElement,bar=document.getElementById("rp-bar"),start=document.getElementById("rp-start"),start=void 0==start?0:start.offsetTop,end=document.getElementById("rp-end"),end=void 0==end?void 0!==document.height?document.height:document.body.offsetHeight:end.offsetTop,end-=window.innerHeight,range=end-start,read=document.getElementById("rp-read"),unread=document.getElementById("rp-unread"),updateProgressBar()}function updateProgressBar(){scroll=window.pageYOffset||doc.scrollTop,offset=scroll-start,actual=offset/range,actual=actual>1?100:actual<0?0:100*actual,read.style.width=actual+"%",unread.style.width=100-actual+"%",0==actual||100==actual?bar.style.display="none":(bar.style.display="block",offset<animArea?bar.style.height=offset/barInc+"px":(ending=end-scroll,ending<animArea?bar.style.height=ending/barInc+"px":bar.style.height=barHeight+"px")),setTimeout(updateProgressBar,20)}document.addEventListener("DOMContentLoaded",function(e){initProgressBar()});